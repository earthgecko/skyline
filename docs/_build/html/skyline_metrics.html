<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Skyline metrics &mdash; Skyline 4.0.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/plot_directive.css" type="text/css" />
      <link rel="stylesheet" href="_static/skyline.styles.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="opentelemetry" href="opentelemetry.html" />
    <link rel="prev" title="Monitoring Skyline" href="monitoring-skyline.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Skyline
          </a>
              <div class="version">
                4.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="anomify-cutting-edge-skyline.html">Anomify - cutting edge Skyline</a></li>
<li class="toctree-l1"><a class="reference internal" href="requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="running-in-python-virtualenv.html">Running Skyline in a Python virtualenv</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="upgrading/index.html">Upgrading</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-data-into-skyline.html">Getting data into Skyline</a></li>
<li class="toctree-l1"><a class="reference internal" href="alert-testing.html">Alert testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="alerts.html">Alerts</a></li>
<li class="toctree-l1"><a class="reference internal" href="slack.html">slack</a></li>
<li class="toctree-l1"><a class="reference internal" href="monotonic-metrics.html">Strictly increasing monotonicity</a></li>
<li class="toctree-l1"><a class="reference internal" href="horizon.html">Horizon</a></li>
<li class="toctree-l1"><a class="reference internal" href="analyzer.html">Analyzer</a></li>
<li class="toctree-l1"><a class="reference internal" href="analyzer-optimizations.html">Analyzer Optimizations</a></li>
<li class="toctree-l1"><a class="reference internal" href="algorithms/index.html">Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="mirage.html">Mirage</a></li>
<li class="toctree-l1"><a class="reference internal" href="boundary.html">Boundary</a></li>
<li class="toctree-l1"><a class="reference internal" href="crucible.html">Crucible</a></li>
<li class="toctree-l1"><a class="reference internal" href="panorama.html">Panorama</a></li>
<li class="toctree-l1"><a class="reference internal" href="webapp.html">Webapp</a></li>
<li class="toctree-l1"><a class="reference internal" href="ionosphere.html">Ionosphere</a></li>
<li class="toctree-l1"><a class="reference internal" href="ionosphere_echo.html">Ionosphere echo</a></li>
<li class="toctree-l1"><a class="reference internal" href="ionosphere_inference.html">Ionosphere inference</a></li>
<li class="toctree-l1"><a class="reference internal" href="ionosphere_learn_repetitive_patterns.html">Ionosphere learning from repetitive patterns</a></li>
<li class="toctree-l1"><a class="reference internal" href="tsfresh.html">tsfresh</a></li>
<li class="toctree-l1"><a class="reference internal" href="luminosity.html">Luminosity</a></li>
<li class="toctree-l1"><a class="reference internal" href="flux.html">Flux</a></li>
<li class="toctree-l1"><a class="reference internal" href="upload-data-to-flux.html">upload_data to Flux - EXPERIMENTAL</a></li>
<li class="toctree-l1"><a class="reference internal" href="prometheus.html">Prometheus</a></li>
<li class="toctree-l1"><a class="reference internal" href="vortex.html">Vortex</a></li>
<li class="toctree-l1"><a class="reference internal" href="thunder/index.html">Thunder</a></li>
<li class="toctree-l1"><a class="reference internal" href="vista.html">Vista</a></li>
<li class="toctree-l1"><a class="reference internal" href="SNAB.html">SNAB</a></li>
<li class="toctree-l1"><a class="reference internal" href="external_settings.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">settings.EXTERNAL_SETTINGS</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="redis-integration.html">Redis integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="rebrow.html"><span class="red">re</span><span class="brow">brow</span></a></li>
<li class="toctree-l1"><a class="reference internal" href="running-multiple-skylines.html">Running multiple Skyline instances</a></li>
<li class="toctree-l1"><a class="reference internal" href="skyline-and-friends.html">Skyline and friends</a></li>
<li class="toctree-l1"><a class="reference internal" href="logging.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="tuning-tips.html">Tuning tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="monitoring-skyline.html">Monitoring Skyline</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#"><span class="skyblue">Sky</span><span class="red">line</span> metrics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#metric-definitions">Metric definitions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="opentelemetry.html">opentelemetry</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Trouble shooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="deprecated-docs/index.html">Deprecated docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="releases.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="whats-new.html">What’s new</a></li>
<li class="toctree-l1"><a class="reference internal" href="development/index.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="roadmap.html">Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="skyline.html">skyline package</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Skyline</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active"><span class="skyblue">Sky</span><span class="red">line</span> metrics</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/skyline_metrics.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="skyline-metrics">
<h1><span class="skyblue">Sky</span><span class="red">line</span> metrics<a class="headerlink" href="#skyline-metrics" title="Permalink to this heading"></a></h1>
<p>Like all applications, <span class="skyblue">Sky</span><span class="red">line</span> makes its own metrics.
A lot of cloud native things expose a LOT of internal metrics and generally
modern applications tend to make a lot of metrics, verbosely describing the
application.  Although there is nothing wrong with this, it does result in
metric overkill a lot of the time for people running the applications.  Often
there is little documentation on what all the metrics are and more importantly
information on what metrics are important.  We end up with 1000s of metrics
being sent and scraped from applications and most of them we have very little
understanding of.  What are the important metrics of application?  Although
a developer of an application may be interested in a metric like
<code class="docutils literal notranslate"><span class="pre">application.go_gc_duration_seconds.instance.123%2E232%2E12%2E13:1234.job.application.quantile.0%2E25</span></code>
the user of the application probably is not going to be interested in that at
all.</p>
<p><span class="skyblue">Sky</span><span class="red">line</span> has always attempted to not make too many metrics.</p>
<p>Skyline metrics are sent to Graphite and can be viewed in the Graphite Browser.</p>
<section id="metric-definitions">
<h2>Metric definitions<a class="headerlink" href="#metric-definitions" title="Permalink to this heading"></a></h2>
<p>Here each <span class="skyblue">Sky</span><span class="red">line</span> metric is described.  Metrics are only sent
if you run a Skyline app or specific feature, if you are not running flux do not
expect to get flux metrics.  <strong>This is list not complete it is a work in
progress</strong>.  There are some ADVANCED_FEATURE metrics that are not listed or
described here.  If a metric below does not have a description it is an
informational or development metrics and its namespace probably says what it
does.</p>
<p>A note on <code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.labelled_metrics.</span></code> metrics and
<code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.</span></code> metrics.  Although <code class="docutils literal notranslate"><span class="pre">labelled_metrics</span></code> are within
the <code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.</span></code> namespace, <code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.</span></code> metrics
and <code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.labelled_metrics.</span></code> metrics are distinct groups.
<code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.</span></code> metrics being related to the analysis of
traditional Graphite metrics and <code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.labelled_metrics.</span></code>
metrics being related to the analysis of Prometheus/VictoriaMetrics style
labelled/tagged metrics.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.$skyline_app.$host.logged_errors</span></code>: <strong>IMPORTANT</strong> every Skyline app
records the number of errors that have been logged.  Skyline handle error
logging very specifically because when analysis is being on 1000s and 1000s of
metrics in real time constantly, any issue can cause a thundering herd of
errors.  During the normal operations of Skyline some errors are always
expected.  This is especially true when there are some socket.timeouts while
sending metrics to Graphite, ingesting metrics from remote clients where the
client terminates the connection, etc, etc.  Very brief network partitions are
expected.  There are occasional timeout on the server connecting to the Redis
socket or local MariaDB, these things happen and get logged, they are not
necessarily abnormal.  All <code class="docutils literal notranslate"><span class="pre">skyline.logged_errors</span></code> namespaces are analysed
and not skipped via their inclusion in <a class="reference internal" href="skyline.html#settings.DO_NOT_SKIP_LIST" title="settings.DO_NOT_SKIP_LIST"><code class="xref py py-mod docutils literal notranslate"><span class="pre">settings.DO_NOT_SKIP_LIST</span></code></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.algorithm_breakdown.$algorithm.timing.{median_time,times_run,total_time}</span></code>: these
are performance metrics for each of Analyzer’s algorithms.  These are mostly
for information and detecting performance changes if any algorithm is modified.
Mostly for development but are data that can be used in the future to infer
the overall state of the entire metric population in terms of how much flux is
being experienced.  By default not analysed and excluded via
<a class="reference internal" href="skyline.html#settings.SKIP_LIST" title="settings.SKIP_LIST"><code class="xref py py-mod docutils literal notranslate"><span class="pre">settings.SKIP_LIST</span></code></a> as they are feedback metrics.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.anomaly_breakdown.$algorithm</span></code>: How many times each
algorithm triggerred.  Same category as the above metrics.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.exceptions.Boring</span></code>: the number of metrics with timeseries
that have the same value for <a class="reference internal" href="skyline.html#settings.MAX_TOLERABLE_BOREDOM" title="settings.MAX_TOLERABLE_BOREDOM"><code class="xref py py-mod docutils literal notranslate"><span class="pre">settings.MAX_TOLERABLE_BOREDOM</span></code></a> (default 100)
in a row.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.exceptions.Other</span></code>: unknown exceptions</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.exceptions.TooShort</span></code>: the number of metrics that have
timeseries that are too short to be analysed (<a class="reference internal" href="skyline.html#settings.MIN_TOLERABLE_LENGTH" title="settings.MIN_TOLERABLE_LENGTH"><code class="xref py py-mod docutils literal notranslate"><span class="pre">settings.MIN_TOLERABLE_LENGTH</span></code></a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.exceptions.EmptyTimeseries</span></code>: the number of metrics
that have empty timeseries.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.exceptions.Stale</span></code>: <strong>IMPORTANT</strong> the number of
metrics that have not sent new data in <a class="reference internal" href="skyline.html#settings.STALE_PERIOD" title="settings.STALE_PERIOD"><code class="xref py py-mod docutils literal notranslate"><span class="pre">settings.STALE_PERIOD</span></code></a>.  If this
number spikes up it means that there is a problem with the data being fed to
Skyline for a metric/s.  These metrics are excluded from analysis by default
via <a class="reference internal" href="skyline.html#settings.SKIP_LIST" title="settings.SKIP_LIST"><code class="xref py py-mod docutils literal notranslate"><span class="pre">settings.SKIP_LIST</span></code></a>, because Skyline analyzer/metrics_manager and
thunder will report on stale metrics.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.labelled_metrics.exceptions.$exception</span></code>: <strong>IMPORTANT</strong> the
same as the analyzer exceptions metrics above, but for the analyzer/labelled_metrics
process.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.labelled_metrics.3sigma_analysed</span></code>: the number of
labelled metrics that were analysed with 3sigma on 24 hours of data in a
skyline/analyzer_labelled_metrics analysis run.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.labelled_metrics.3sigma_timings</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.labelled_metrics.analysed</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.labelled_metrics.anomalous</span></code>: <strong>IMPORTANT</strong> the
number of 1st stage analysis anomalies were detected on all the Prometheus,
influxdb, VictoriaMetrics, skyline/flux based labelled metrics.  Although
1st stage analysis anomalies are not important, if there is a surge in the
number of 1st stage anomalies it is indicative of a change in the overall
flux of a number of metrics in the population.  This is analysed and
not skipped via inclusion in <a class="reference internal" href="skyline.html#settings.DO_NOT_SKIP_LIST" title="settings.DO_NOT_SKIP_LIST"><code class="xref py py-mod docutils literal notranslate"><span class="pre">settings.DO_NOT_SKIP_LIST</span></code></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.labelled_metrics.checked</span></code>: <strong>IMPORTANT</strong> the
number of labelled_metrics checked.  This number is all metrics that were
assigned to be checked, it includes skipped. It does not include analyzer
metrics, <code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.labelled_metrics.*</span></code> are seperate and
distinct from <code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.</span></code> metrics. When this drops there is possibly
an issue with the remote_write (et al) source/s and/or metric ingestion with
skyline/flux/prometheus/write and/or horizon/prometheus writing the metric
data. The number will increase and decrease when you add and remove
machines/metrics.  Analysed and not skipped via inclusion in
<a class="reference internal" href="skyline.html#settings.DO_NOT_SKIP_LIST" title="settings.DO_NOT_SKIP_LIST"><code class="xref py py-mod docutils literal notranslate"><span class="pre">settings.DO_NOT_SKIP_LIST</span></code></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.labelled_metrics.downsample_timings</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.labelled_metrics.downsampled</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.labelled_metrics.mad_analysed</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.labelled_metrics.mad_anomalous</span></code>: the number of
labelled metrics that triggered MAD (Median Absolute Deviation) with 3 hours
of data and were pushed on to having 24 hours of data analysed with 3sigma in
a skyline/analyzer_labelled_metrics analysis run.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.labelled_metrics.mad_timings</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.labelled_metrics.mem_usage</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.labelled_metrics.monotonicity_changed</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.labelled_metrics.monotonicity_checked</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.labelled_metrics.not_anomalous</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.labelled_metrics.not_stationary</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.labelled_metrics.run_time</span></code>: <strong>VERY IMPORTANT</strong> reports
how many seconds skyline/analyzer_labelled_metrics took to analyse all the
labelled_metrics. This should be under 60 seconds.  If it is higher,
skyline/analyzer_labelled_metrics is overloaded and not getting through the
analysis quick enough.  Consider increasing <a class="reference internal" href="skyline.html#settings.ANALYZER_PROCESSES" title="settings.ANALYZER_PROCESSES"><code class="xref py py-mod docutils literal notranslate"><span class="pre">settings.ANALYZER_PROCESSES</span></code></a>
or using a cluster. Analysed and not skipped via inclusion in
<a class="reference internal" href="skyline.html#settings.DO_NOT_SKIP_LIST" title="settings.DO_NOT_SKIP_LIST"><code class="xref py py-mod docutils literal notranslate"><span class="pre">settings.DO_NOT_SKIP_LIST</span></code></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.labelled_metrics.redis_full_duration_timings</span></code>: the
number of seconds it took to get <a class="reference internal" href="skyline.html#settings.FULL_DURATION" title="settings.FULL_DURATION"><code class="xref py py-mod docutils literal notranslate"><span class="pre">settings.FULL_DURATION</span></code></a> seconds of data
for MAD triggered metrics from RedisTimeseries for 3sigma analysis in a
skyline/analyzer_labelled_metrics analysis run.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.labelled_metrics.redis_timings</span></code>: the number of
seconds it took to get 3 hours of data for ALL metrics from RedisTimeseries</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.labelled_metrics.skipped</span></code>: the number of metrics
skipped due to TooShort, Boring, etc in a skyline/analyzer_labelled_metrics
analysis run.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.labelled_metrics.stationary</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.labelled_metrics.stationary_analysed</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.labelled_metrics.stationary_not_expired</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.labelled_metrics.stationary_timing</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.low_priority_metrics.{dynamically_analyzed,total}</span></code>: this
is an ADVANCE FEATURE set of metrics that just keep track of how many low
priority metrics get analysed and how many there are total.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.metrics_sparsity.metrics_fully_populated</span></code>: the
number of metrics in the population that are fully populated.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.metrics_sparsity.metrics_sparsity_decreasing</span></code>: the
number of metrics that are moving towards a fully populated state.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.metrics_sparsity.metrics_sparsity_increasing</span></code>: the
number of metrics that are moving away from a fully populated state.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.metrics_sparsity.avg_sparsity</span></code>: <strong>IMPORTANT</strong> this
is number describes how well populated the metric timeseries population is.
100 is perfect, going below about 93% on high resolution metrics indicates a
problem, either the metrics are missing data, some have gone offline or
network partitions are being encountered.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.duration</span></code>: The duration (in hours) of the
<a class="reference internal" href="skyline.html#settings.CANARY_METRIC" title="settings.CANARY_METRIC"><code class="xref py py-mod docutils literal notranslate"><span class="pre">settings.CANARY_METRIC</span></code></a> timeseries data.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.ionosphere_metrics</span></code>: the number of metrics in the
population that have been trained.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.metrics_manager_run_time</span></code>: <strong>IMPORTANT</strong> the number
of seconds it takes for analyzer/metrics_manager to run.  analyzer/metrics_manager
does a <strong>lot</strong> of work creating and managing internal data sets related to the
metrics, settings, activation and removal of things which can change quite
dramatically depending on the volumes of metrics.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.projected</span></code>: This is the projected number of seconds
that Analyzer should take to run.  It is the projected value of
<code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.run_time</span></code> and these 2 metrics should be very similar.
If the run_time is much greater than than the projected there is something
amiss.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.run_time</span></code>: <strong>VERY IMPORTANT</strong> reports how many
seconds Analyzer took to analyse all the traditional Graphite based metrics.
This should be under 60 seconds.  If it is higher, analyzer is overloaded and
not getting through the analysis quick enough.  Consider increasing
<a class="reference internal" href="skyline.html#settings.ANALYZER_PROCESSES" title="settings.ANALYZER_PROCESSES"><code class="xref py py-mod docutils literal notranslate"><span class="pre">settings.ANALYZER_PROCESSES</span></code></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.sent_to_ionosphere</span></code>: a count of how many anomalous
metrics were sent to Ionosphere by Analyzer during an analysis run.  These
metrics are metrics that are not a mirage metrics, they do have previous
training and they were anomalous in the 1st stage analysis and seeing as they
are not Mirage metrics, it is Analyzer’s responsibility to check Ionosphere to
see if they match any pattern of trained behaviour.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.sent_to_mirage</span></code>: a count of how many anomalous
metrics were sent to Mirage by Analyzer analysis run for 2nd stage analysis.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.sent_to_panorama</span></code>: a count of how many anomalous
metrics were sent to Panorama by Analyzer during an analysis run.  These
metrics are metrics that are not a mirage metrics (or they are waterfall
alerted on), Ionosphere did not match any of the patterns in the trained
behaviour (if previously trained) and Analyzer instructs Panorama to record an
anomaly for the metric.  This only applies to metrics that are not mirage
enabled by having no SECOND_ORDER_RESOLUTION_HOURS declared in an alert tuple
they match in <a class="reference internal" href="skyline.html#settings.ALERTS" title="settings.ALERTS"><code class="xref py py-mod docutils literal notranslate"><span class="pre">settings.ALERTS</span></code></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.total_analyzed</span></code>: <strong>IMPORTANT</strong> the number of metrics
analysed.  When this drops there is possibly a problem.  The number will
increase and decrease when you add and remove machines/metrics. Analysed
and not skipped via inclusion in <a class="reference internal" href="skyline.html#settings.DO_NOT_SKIP_LIST" title="settings.DO_NOT_SKIP_LIST"><code class="xref py py-mod docutils literal notranslate"><span class="pre">settings.DO_NOT_SKIP_LIST</span></code></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.total_anomalies</span></code>:  <strong>IMPORTANT</strong> the number of
anomalies that were detected on all the traditional Graphite based metrics.
Analysed and not skipped via inclusion in <a class="reference internal" href="skyline.html#settings.DO_NOT_SKIP_LIST" title="settings.DO_NOT_SKIP_LIST"><code class="xref py py-mod docutils literal notranslate"><span class="pre">settings.DO_NOT_SKIP_LIST</span></code></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.analyzer.$host.total_metrics</span></code>: the total number of traditional
Graphite based metrics.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.boundary.$host.*</span></code>: these metrics are very similar to the analyzer
namespace counterparts described above.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.flux.$host.listen.discarded.invalid_value</span></code>: the number of metrics
flux discarded as they did not have a float value in a 60 second period.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.flux.$host.listen.dropped_non_numeric_metrics</span></code>: the number of
metrics flux discarded as they did not have a float value in a 60 second
period.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.flux.$host.listen.over_quota_metrics_count</span></code>: ADVANCED_FEATURE
<strong>VERY IMPORTANT</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.flux.$host.listen.discarded.invalid_timestamp</span></code>: the number of
metrics flux discarded in a 60 second period because the timestamp was too
old (e.g &gt; <a class="reference internal" href="skyline.html#settings.FLUX_MAX_AGE" title="settings.FLUX_MAX_AGE"><code class="xref py py-mod docutils literal notranslate"><span class="pre">settings.FLUX_MAX_AGE</span></code></a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.flux.$host.worker.discarded.already_received</span></code>: the number of
metrics flux discarded in a 60 second period because data for the timestamp
has already been received, deduplication.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.flux.$host.listen.added_to_queue</span></code>: the number of metrics that
flux/listen add in a 60 second period.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.flux.$host.listen.discarded.invalid_key</span></code>: the number of
metrics flux discarded in a 60 second period because submitted api key was not
valid.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.flux.$host.worker.metrics_sent_to_graphite</span></code>: the number of
traditional Graphite dotted namespaced metrics flux/worker submitted to in a
60 second period.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.flux.$host.aggregator.queue.size</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.flux.$host.listen.discarded.invalid_parameters</span></code>: the number of
metrics flux discarded in a 60 second period because an incorrect or missing
parameter/s were submitted.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.flux.$host.listen.discarded.metric_name</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.flux.$host.listen.added_to_aggregation_queue</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.flux.$host.worker.httpMetricDataQueue.size</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.horizon.$host.prometheus.flux_received</span></code>: <strong>IMPORTANT</strong> this is the
number of metrics flux/prometheus/write has received in the last 60 seconds.
Given potential for high cardinality this metric is important to indicate if
lots of new metrics come onboard.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.horizon.$host.worker.queue_size_60s_avg</span></code>: <strong>IMPORTANT</strong> this is the
average size of the queue in the last 60 seconds for traditional Graphite
dotted namespaced metric ingestion. If this value gets to high you may need to
add another Horizon worker.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.horizon.$host.worker.datapoints_sent_to_redis</span></code>: <strong>IMPORTANT</strong> the
number of data points that Horizon is receiving from Graphite and pushing into
Redis.  If this number drops Skyline is not getting the expected amount of
data from Graphite.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.horizon.$host.worker.datapoints_sent_to_redis_&lt;id&gt;</span></code>: <strong>IMPORTANT</strong> same
as the above metric when Horizon runs multiple workers.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.horizon.$host.worker.queue_size</span></code>: this is average size of the queue
in the last 10 seconds.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.horizon.$host.worker.metrics_received</span></code>: <strong>IMPORTANT</strong> this is the
number of traditional Graphite dotted namespaced metrics that flux/worker has
received in the last 60 seconds. Given potential for high cardinality this
metric is important to indicate if lots of new metrics come onboard.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.ionosphere.$host.features_calculation_time</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.ionosphere.$host.fps_checked</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.ionosphere.$host.layers_checked</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.ionosphere.$host.not_anomalous</span></code>: <strong>IMPORTANT</strong> the number of
potentially anomalous metrics that matched a trained pattern of behaviour as
not_anomalous in a 60 period.  Important because it is an indicator of how
effective the training and pattern matching is.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.ionosphere.$host.sent_to_panorama</span></code>: <strong>IMPORTANT</strong> the number of
anomalous metrics that did not match a trained pattern of behaviour in a 60
second period.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.ionosphere.$host.total_anomalies</span></code>: The same as sent_to_panorama
above.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.ionosphere.$host.training_metrics</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.luminosity.$host.metrics_checked_for_correlation</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.luminosity.$host.classify_metrics.classified</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.luminosity.$host.correlations</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.luminosity.$host.classify_metrics.proceessed</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.luminosity.$host.avg_runtime</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.mirage.$host.checks.done</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.mirage.$host.checks.stale_discarded</span></code>: <strong>IMPORTANT</strong> the number of
mirage checks that are discarded because they too old.  If this is too high
2nd stage analysis is not be being completed in a timely, real time manner.
Consider increasing <a class="reference internal" href="skyline.html#settings.MIRAGE_PROCESSES" title="settings.MIRAGE_PROCESSES"><code class="xref py py-mod docutils literal notranslate"><span class="pre">settings.MIRAGE_PROCESSES</span></code></a>.  This is analysed and
not skipped via inclusion in <a class="reference internal" href="skyline.html#settings.DO_NOT_SKIP_LIST" title="settings.DO_NOT_SKIP_LIST"><code class="xref py py-mod docutils literal notranslate"><span class="pre">settings.DO_NOT_SKIP_LIST</span></code></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.mirage.$host.checks.pending</span></code>: <strong>IMPORTANT</strong> the number of checks
pending to be done by Mirage second stage analysis.  If this is too high
analysis will not be being completed in a timely, real time manner.  Consider
increasing <a class="reference internal" href="skyline.html#settings.MIRAGE_PROCESSES" title="settings.MIRAGE_PROCESSES"><code class="xref py py-mod docutils literal notranslate"><span class="pre">settings.MIRAGE_PROCESSES</span></code></a>. This is analysed and not skipped
via inclusion in <a class="reference internal" href="skyline.html#settings.DO_NOT_SKIP_LIST" title="settings.DO_NOT_SKIP_LIST"><code class="xref py py-mod docutils literal notranslate"><span class="pre">settings.DO_NOT_SKIP_LIST</span></code></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.mirage.$host.labelled_metrics.checks.done</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.mirage.$host.labelled_metrics.checks.pending</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.mirage.$host.labelled_metrics.checks.stale_discarded</span></code>: This is
analysed and not skipped via inclusion in <a class="reference internal" href="skyline.html#settings.DO_NOT_SKIP_LIST" title="settings.DO_NOT_SKIP_LIST"><code class="xref py py-mod docutils literal notranslate"><span class="pre">settings.DO_NOT_SKIP_LIST</span></code></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.mirage.$host.labelled_metrics.run_time</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.mirage.$host.labelled_metrics.sent_to_ionosphere</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.mirage.$host.labelled_metrics.sent_to_panorama</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.mirage.$host.run_time</span></code>:<strong>IMPORTANT</strong> If this is too high analysis
will not be being completed in a timely, real time manner.  Consider
increasing <a class="reference internal" href="skyline.html#settings.MIRAGE_PROCESSES" title="settings.MIRAGE_PROCESSES"><code class="xref py py-mod docutils literal notranslate"><span class="pre">settings.MIRAGE_PROCESSES</span></code></a>. This is analysed and not skipped
via inclusion in <a class="reference internal" href="skyline.html#settings.DO_NOT_SKIP_LIST" title="settings.DO_NOT_SKIP_LIST"><code class="xref py py-mod docutils literal notranslate"><span class="pre">settings.DO_NOT_SKIP_LIST</span></code></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.mirage.$host.sent_to_ionosphere</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.mirage.$host.sent_to_panorama</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.mirage.$host.vortex.checks.done</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.mirage.$host.vortex.run_time</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.snab.$host.checks.analyzer.testing</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.snab.$host.checks.analyzer.anomalies</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.snab.$host.checks.analyzer.realtime</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.snab.$host.checks.mirage.testing</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.snab.$host.checks.mirage.realtime</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.snab.$host.checks.mirage.anomalies</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.snab.$host.checks.mirage.falied</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.snab.$host.checks.analyzer.falied</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.snab.$host.checks.processed</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.vista.$host.fetcher.metrics_fetched</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.vista.$host.worker.metrics_sent_to_flux</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.vista.$host.fetcher.time_to_fetch</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.vista.$host.fetcher.metrics_to_fetch</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.vista.$host.fetcher.sent_to_flux</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyline.vista.$host.worker.vista.fetcher.metrics.json</span></code>:</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="monitoring-skyline.html" class="btn btn-neutral float-left" title="Monitoring Skyline" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="opentelemetry.html" class="btn btn-neutral float-right" title="opentelemetry" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2013-2014, Etsy Inc; 2015, Abe Stanway; 2015-2023, Gary Wilson.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>