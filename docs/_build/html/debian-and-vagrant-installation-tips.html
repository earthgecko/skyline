

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Debian and Vagrant Installation Tips &mdash; Skyline 1.1.5 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/skyline.styles.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Skyline 1.1.5 documentation" href="index.html"/>
        <link rel="next" title="Release Notes" href="releases.html"/>
        <link rel="prev" title="Monitoring Skyline" href="monitoring-skyline.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Skyline
          

          
          </a>

          
            
            
              <div class="version">
                1.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="running-in-python-virtualenv.html">Running Skyline in a Python virtualenv</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="upgrading/index.html">Upgrading</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-data-into-skyline.html">Getting data into Skyline</a></li>
<li class="toctree-l1"><a class="reference internal" href="alert-testing.html">Alert testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="monotonic-metrics.html">Strictly increasing monotonicity</a></li>
<li class="toctree-l1"><a class="reference internal" href="horizon.html">Horizon</a></li>
<li class="toctree-l1"><a class="reference internal" href="analyzer.html">Analyzer</a></li>
<li class="toctree-l1"><a class="reference internal" href="analyzer-optimizations.html">Analyzer Optimizations</a></li>
<li class="toctree-l1"><a class="reference internal" href="mirage.html">Mirage</a></li>
<li class="toctree-l1"><a class="reference internal" href="boundary.html">Boundary</a></li>
<li class="toctree-l1"><a class="reference internal" href="crucible.html">Crucible</a></li>
<li class="toctree-l1"><a class="reference internal" href="panorama.html">Panorama</a></li>
<li class="toctree-l1"><a class="reference internal" href="webapp.html">Webapp</a></li>
<li class="toctree-l1"><a class="reference internal" href="ionosphere.html">Ionosphere</a></li>
<li class="toctree-l1"><a class="reference internal" href="tsfresh.html">tsfresh</a></li>
<li class="toctree-l1"><a class="reference internal" href="redis-integration.html">Redis integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="skyline-and-friends.html">Skyline and friends</a></li>
<li class="toctree-l1"><a class="reference internal" href="logging.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="tuning-tips.html">Tuning tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="tuning-tips.html#smaller-deployments">Smaller deployments</a></li>
<li class="toctree-l1"><a class="reference internal" href="tuning-tips.html#reliability">Reliability</a></li>
<li class="toctree-l1"><a class="reference internal" href="monitoring-skyline.html">Monitoring Skyline</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Debian and Vagrant Installation Tips</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#get-a-wheezy-box">Get a Wheezy box</a></li>
<li class="toctree-l2"><a class="reference internal" href="#extra-vagrant-configuration">Extra Vagrant configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#python-requirements">Python requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#skyline-dependencies">Skyline dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="#redis-2-6-on-debian-wheezy">Redis 2.6 on Debian Wheezy</a></li>
<li class="toctree-l2"><a class="reference internal" href="#skyline-configuration">Skyline configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="releases.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="whats-new.html">What&#8217;s new</a></li>
<li class="toctree-l1"><a class="reference internal" href="development/index.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="roadmap.html">Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="skyline.html">skyline package</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Skyline</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Debian and Vagrant Installation Tips</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/debian-and-vagrant-installation-tips.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="debian-and-vagrant-installation-tips">
<span id="debian-and-vagrant-installation-tips"></span><h1>Debian and Vagrant Installation Tips<a class="headerlink" href="#debian-and-vagrant-installation-tips" title="Permalink to this headline">¶</a></h1>
<p>Please note that this info is old and has not been updated since 25 Sep 2013</p>
<div class="section" id="get-a-wheezy-box">
<span id="get-a-wheezy-box"></span><h2>Get a Wheezy box<a class="headerlink" href="#get-a-wheezy-box" title="Permalink to this headline">¶</a></h2>
<p>From this useful <a class="reference external" href="http://dominique.broeglin.fr/2012/02/25/wheezy-64-vagrant-base-box.html">tutorial</a></p>
<p>The previous version, Debian Squeeze, struggled with an easy installation of
Redis and you can get it working with back-ports.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">vagrant</span> <span class="n">box</span> <span class="n">add</span> <span class="n">wheezy64</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">dl</span><span class="o">.</span><span class="n">dropbox</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">u</span><span class="o">/</span><span class="mi">937870</span><span class="o">/</span><span class="n">VMs</span><span class="o">/</span><span class="n">wheezy64</span><span class="o">.</span><span class="n">box</span>
<span class="n">mkdir</span> <span class="n">skyline</span>
<span class="n">cd</span> <span class="n">skyline</span>
<span class="n">vagrant</span> <span class="n">init</span> <span class="n">wheezy64</span>
</pre></div>
</div>
</div>
<div class="section" id="extra-vagrant-configuration">
<span id="extra-vagrant-configuration"></span><h2>Extra Vagrant configuration<a class="headerlink" href="#extra-vagrant-configuration" title="Permalink to this headline">¶</a></h2>
<p>Forward the port required for the web application</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">config</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">network</span> <span class="p">:</span><span class="n">forwarded_port</span><span class="p">,</span> <span class="n">guest</span><span class="p">:</span> <span class="mi">1500</span><span class="p">,</span> <span class="n">host</span><span class="p">:</span> <span class="mi">1500</span>
</pre></div>
</div>
</div>
<div class="section" id="python-requirements">
<span id="python-requirements"></span><h2>Python requirements<a class="headerlink" href="#python-requirements" title="Permalink to this headline">¶</a></h2>
<p>You&#8217;ll need <strong>pip</strong> to be able to add some of the requirements for python, as
well as <strong>python-dev</strong> without which some of the packages used with pip will
not work!</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">python</span><span class="o">-</span><span class="n">dev</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">python</span><span class="o">-</span><span class="n">pip</span>
</pre></div>
</div>
<p>After that we can clone the project’s repository</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">etsy</span><span class="o">/</span><span class="n">skyline</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
<p>Once we have the project we can change into the folder and start going through
all the python dependencies.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">skyline</span>
<span class="n">sudo</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">r</span> <span class="n">requirements</span><span class="o">.</span><span class="n">txt</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">python</span><span class="o">-</span><span class="n">numpy</span> <span class="n">python</span><span class="o">-</span><span class="n">scipy</span> <span class="n">python</span><span class="o">-</span><span class="n">scikits</span><span class="o">.</span><span class="n">statsmodels</span>
<span class="n">sudo</span> <span class="n">pip</span> <span class="n">install</span> <span class="n">patsy</span> <span class="n">msgpack_python</span>
</pre></div>
</div>
</div>
<div class="section" id="skyline-dependencies">
<span id="skyline-dependencies"></span><h2>Skyline dependencies<a class="headerlink" href="#skyline-dependencies" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">r</span> <span class="n">requirements</span><span class="o">.</span><span class="n">txt</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">python</span><span class="o">-</span><span class="n">numpy</span> <span class="n">python</span><span class="o">-</span><span class="n">scipy</span> <span class="n">python</span><span class="o">-</span><span class="n">scikits</span><span class="o">.</span><span class="n">statsmodels</span>
<span class="n">sudo</span> <span class="n">pip</span> <span class="n">install</span> <span class="n">patsy</span> <span class="n">msgpack_python</span>
</pre></div>
</div>
</div>
<div class="section" id="redis-2-6-on-debian-wheezy">
<span id="redis-2-6-on-debian-wheezy"></span><h2>Redis 2.6 on Debian Wheezy<a class="headerlink" href="#redis-2-6-on-debian-wheezy" title="Permalink to this headline">¶</a></h2>
<p>Version 2.6 is available on the Wheezy back-port which means it will be
available in the next Debian stable version and was back ported to Wheezy.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">vim</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">apt</span><span class="o">/</span><span class="n">sources</span><span class="o">.</span><span class="n">list</span>
</pre></div>
</div>
<p>Add the back-port, replace <strong>$YOUR_CONFIGURATION</strong> according to your local
configuration.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>deb http://**$YOUR_CONFIGURATION**.debian.org/debian/ wheezy-backports main
</pre></div>
</div>
<p>Update and install Redis-Server, don&#8217;t forget to kill the process as it will be
started with the default config right after the installation.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">update</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="o">-</span><span class="n">t</span> <span class="n">wheezy</span><span class="o">-</span><span class="n">backports</span> <span class="n">install</span> <span class="n">redis</span><span class="o">-</span><span class="n">server</span>
<span class="n">sudo</span> <span class="n">pkill</span> <span class="n">redis</span>
</pre></div>
</div>
</div>
<div class="section" id="skyline-configuration">
<span id="skyline-configuration"></span><h2>Skyline configuration<a class="headerlink" href="#skyline-configuration" title="Permalink to this headline">¶</a></h2>
<p>With all dependencies installed you can now copy an example for the settings
file. This will be the place to add your Graphite URL and other details but for
now we only need to update the IP bound to the web application so the Vagrant
host will display it.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cp</span> <span class="n">src</span><span class="o">/</span><span class="n">settings</span><span class="o">.</span><span class="n">py</span><span class="o">.</span><span class="n">example</span> <span class="n">src</span><span class="o">/</span><span class="n">settings</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>Edit file for bind.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">vim</span> <span class="n">src</span><span class="o">/</span><span class="n">settings</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>And change the IP to listen on host&#8217;s requests.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">WEBAPP_IP</span> <span class="o">=</span> <span class="s1">&#39;0.0.0.0&#39;</span>
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="releases.html" class="btn btn-neutral float-right" title="Release Notes" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="monitoring-skyline.html" class="btn btn-neutral" title="Monitoring Skyline" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013-2014, Etsy Inc; 2015, Abe Stanway; 2015-2017, Gary Wilson.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.1.5',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>