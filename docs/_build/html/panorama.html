

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Panorama &mdash; Skyline 1.1.0-dev documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/skyline.styles.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Skyline 1.1.0-dev documentation" href="index.html"/>
        <link rel="next" title="Webapp" href="webapp.html"/>
        <link rel="prev" title="Crucible" href="crucible.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Skyline
          

          
          </a>

          
            
            
              <div class="version">
                1.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="running-in-python-virtualenv.html">Running Skyline in a Python virtualenv</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="upgrading/index.html">Upgrading</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-data-into-skyline.html">Getting data into Skyline</a></li>
<li class="toctree-l1"><a class="reference internal" href="alert-testing.html">Alert testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="horizon.html">Horizon</a></li>
<li class="toctree-l1"><a class="reference internal" href="analyzer.html">Analyzer</a></li>
<li class="toctree-l1"><a class="reference internal" href="analyzer-optimizations.html">Analyzer Optimizations</a></li>
<li class="toctree-l1"><a class="reference internal" href="mirage.html">Mirage</a></li>
<li class="toctree-l1"><a class="reference internal" href="boundary.html">Boundary</a></li>
<li class="toctree-l1"><a class="reference internal" href="crucible.html">Crucible</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Panorama</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#create-a-mysql-database">Create a MySQL database</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="webapp.html">Webapp</a></li>
<li class="toctree-l1"><a class="reference internal" href="ionosphere.html">Ionosphere</a></li>
<li class="toctree-l1"><a class="reference internal" href="tsfresh.html">tsfresh</a></li>
<li class="toctree-l1"><a class="reference internal" href="redis-integration.html">Redis integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="skyline-and-friends.html">Skyline and friends</a></li>
<li class="toctree-l1"><a class="reference internal" href="logging.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="tuning-tips.html">Tuning tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="tuning-tips.html#smaller-deployments">Smaller deployments</a></li>
<li class="toctree-l1"><a class="reference internal" href="tuning-tips.html#reliability">Reliability</a></li>
<li class="toctree-l1"><a class="reference internal" href="monitoring-skyline.html">Monitoring Skyline</a></li>
<li class="toctree-l1"><a class="reference internal" href="debian-and-vagrant-installation-tips.html">Debian and Vagrant Installation Tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="releases.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="whats-new.html">What&#8217;s new</a></li>
<li class="toctree-l1"><a class="reference internal" href="development/index.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="roadmap.html">Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="skyline.html">skyline package</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Skyline</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Panorama</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/panorama.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="panorama">
<h1>Panorama<a class="headerlink" href="#panorama" title="Permalink to this headline">¶</a></h1>
<p>The Panorama service is responsible for recording the metadata for each anomaly.</p>
<p>It is important to remember that the Skyline analysis apps only alert on metrics
that have alert tuples set.  Panorama records samples of all metrics that are
flagged as anomalous.  Sampling at <a class="reference internal" href="skyline.html#settings.PANORAMA_EXPIRY_TIME" title="settings.PANORAMA_EXPIRY_TIME"><code class="xref py py-mod docutils literal"><span class="pre">settings.PANORAMA_EXPIRY_TIME</span></code></a>, the
default is 900 seconds.</p>
<p>The <a class="reference internal" href="skyline.html#settings.PANORAMA_CHECK_MAX_AGE" title="settings.PANORAMA_CHECK_MAX_AGE"><code class="xref py py-mod docutils literal"><span class="pre">settings.PANORAMA_CHECK_MAX_AGE</span></code></a> ensures that Panorama only processes
checks that are not older than this value.  This mitigates against Panorama
stampeding against the MySQL database, if either Panorama or MySQL were stopped
and there are a lot of Panorama check files queued to process.  If this is set
to 0, Panorama will process all checks, regardless of age.</p>
<p>There is a Panorama view in the Skyline Webapp frontend UI to allow you to
search and view historical anomalies.</p>
<div class="section" id="create-a-mysql-database">
<h2>Create a MySQL database<a class="headerlink" href="#create-a-mysql-database" title="Permalink to this headline">¶</a></h2>
<p>You can install and run MySQL on the Skyline server or use any existing MySQL
server to create the database on.  The Skyline server just has to be able to
access the database with the user and password you configure in <code class="docutils literal"><span class="pre">settings.py</span></code>
<a class="reference internal" href="skyline.html#settings.PANORAMA_DBUSER" title="settings.PANORAMA_DBUSER"><code class="xref py py-mod docutils literal"><span class="pre">settings.PANORAMA_DBUSER</span></code></a> and <a class="reference internal" href="skyline.html#settings.PANORAMA_DBUSERPASS" title="settings.PANORAMA_DBUSERPASS"><code class="xref py py-mod docutils literal"><span class="pre">settings.PANORAMA_DBUSERPASS</span></code></a></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is recommended, if possible that MySQL is configured to use a single
file per InnoDB table with the MySQL config option - <code class="docutils literal"><span class="pre">innodb_file_per_table=1</span></code>
This is due to the fact that the anomalies MySQL table is an InnoDB table and
all the other Skyline DB tables are MyISAM.
If you are adding the Skyline DB to an existing MySQL database server please
consider the ramifications to your setup.  It is not a requirement, just a
tidier and more efficient way to run MySQL InnoDB tables in terms of
managing space allocations with InnoDB and it segregates databases from each
other in the context on the .ibd file spaces, making for easier management of
each individual database in terms of ibd file space.  However that was really
only an additional caution.  Retrospectively, it is unlikely that the
anomalies table will ever really be a major problem in terms of the page space
requirements any time soon.  It appears and it is hoped anyway, time and
really big data sets may invalidate this in the future, Gaia DR1 MySQL say :)</p>
</div>
<ul class="simple">
<li>See <code class="docutils literal"><span class="pre">skyline.sql</span></code> in your cloned Skyline repo for the schema creation script</li>
<li>Enable Panorama and set the other Panorama settings in <code class="docutils literal"><span class="pre">settings.py</span></code></li>
<li>Start Panorama (use you appropriate PATH) - or go back to <a class="reference external" href="../html/installation.html">Installation</a> and
continue with the installation steps and Panorama will be started later in the
installation process.</li>
</ul>
<div class="highlight-bash"><div class="highlight"><pre><span></span>/opt/skyline/github/skyline/bin/panorama.d start
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="webapp.html" class="btn btn-neutral float-right" title="Webapp" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="crucible.html" class="btn btn-neutral" title="Crucible" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013-2014, Etsy Inc; 2015, Abe Stanway; 2015-2016, Gary Wilson.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.1.0-dev',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>