<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>skyline.luminosity package &mdash; Skyline 4.0.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/plot_directive.css" type="text/css" />
      <link rel="stylesheet" href="_static/skyline.styles.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="skyline.mirage package" href="skyline.mirage.html" />
    <link rel="prev" title="skyline.ionosphere package" href="skyline.ionosphere.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Skyline
          </a>
              <div class="version">
                4.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="anomify-cutting-edge-skyline.html">Anomify - cutting edge Skyline</a></li>
<li class="toctree-l1"><a class="reference internal" href="requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="running-in-python-virtualenv.html">Running Skyline in a Python virtualenv</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="upgrading/index.html">Upgrading</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-data-into-skyline.html">Getting data into Skyline</a></li>
<li class="toctree-l1"><a class="reference internal" href="alert-testing.html">Alert testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="alerts.html">Alerts</a></li>
<li class="toctree-l1"><a class="reference internal" href="slack.html">slack</a></li>
<li class="toctree-l1"><a class="reference internal" href="monotonic-metrics.html">Strictly increasing monotonicity</a></li>
<li class="toctree-l1"><a class="reference internal" href="horizon.html">Horizon</a></li>
<li class="toctree-l1"><a class="reference internal" href="analyzer.html">Analyzer</a></li>
<li class="toctree-l1"><a class="reference internal" href="analyzer-optimizations.html">Analyzer Optimizations</a></li>
<li class="toctree-l1"><a class="reference internal" href="algorithms/index.html">Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="mirage.html">Mirage</a></li>
<li class="toctree-l1"><a class="reference internal" href="boundary.html">Boundary</a></li>
<li class="toctree-l1"><a class="reference internal" href="crucible.html">Crucible</a></li>
<li class="toctree-l1"><a class="reference internal" href="panorama.html">Panorama</a></li>
<li class="toctree-l1"><a class="reference internal" href="webapp.html">Webapp</a></li>
<li class="toctree-l1"><a class="reference internal" href="ionosphere.html">Ionosphere</a></li>
<li class="toctree-l1"><a class="reference internal" href="ionosphere_echo.html">Ionosphere echo</a></li>
<li class="toctree-l1"><a class="reference internal" href="ionosphere_inference.html">Ionosphere inference</a></li>
<li class="toctree-l1"><a class="reference internal" href="ionosphere_learn_repetitive_patterns.html">Ionosphere learning from repetitive patterns</a></li>
<li class="toctree-l1"><a class="reference internal" href="tsfresh.html">tsfresh</a></li>
<li class="toctree-l1"><a class="reference internal" href="luminosity.html">Luminosity</a></li>
<li class="toctree-l1"><a class="reference internal" href="flux.html">Flux</a></li>
<li class="toctree-l1"><a class="reference internal" href="upload-data-to-flux.html">upload_data to Flux - EXPERIMENTAL</a></li>
<li class="toctree-l1"><a class="reference internal" href="prometheus.html">Prometheus</a></li>
<li class="toctree-l1"><a class="reference internal" href="vortex.html">Vortex</a></li>
<li class="toctree-l1"><a class="reference internal" href="thunder/index.html">Thunder</a></li>
<li class="toctree-l1"><a class="reference internal" href="vista.html">Vista</a></li>
<li class="toctree-l1"><a class="reference internal" href="SNAB.html">SNAB</a></li>
<li class="toctree-l1"><a class="reference internal" href="external_settings.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">settings.EXTERNAL_SETTINGS</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="redis-integration.html">Redis integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="rebrow.html"><span class="red">re</span><span class="brow">brow</span></a></li>
<li class="toctree-l1"><a class="reference internal" href="running-multiple-skylines.html">Running multiple Skyline instances</a></li>
<li class="toctree-l1"><a class="reference internal" href="skyline-and-friends.html">Skyline and friends</a></li>
<li class="toctree-l1"><a class="reference internal" href="logging.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="tuning-tips.html">Tuning tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="monitoring-skyline.html">Monitoring Skyline</a></li>
<li class="toctree-l1"><a class="reference internal" href="skyline_metrics.html"><span class="skyblue">Sky</span><span class="red">line</span> metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="opentelemetry.html">opentelemetry</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Trouble shooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="deprecated-docs/index.html">Deprecated docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="releases.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="whats-new.html">What’s new</a></li>
<li class="toctree-l1"><a class="reference internal" href="development/index.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="roadmap.html">Roadmap</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="skyline.html">skyline package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="skyline.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="skyline.analyzer.html">skyline.analyzer package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyline.analyzer_dev.html">skyline.analyzer_dev package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyline.boundary.html">skyline.boundary package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyline.crucible.html">skyline.crucible package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyline.custom_algorithms.html">skyline.custom_algorithms package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyline.flux.html">skyline.flux package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyline.horizon.html">skyline.horizon package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyline.ionosphere.html">skyline.ionosphere package</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">skyline.luminosity package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#skyline-luminosity-agent-module">skyline.luminosity.agent module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-luminosity.classify_anomalies">skyline.luminosity.classify_anomalies module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-luminosity.classify_metrics">skyline.luminosity.classify_metrics module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-luminosity.cloudburst">skyline.luminosity.cloudburst module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-luminosity.cloudbursts">skyline.luminosity.cloudbursts module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-luminosity.luminosity">skyline.luminosity.luminosity module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-luminosity.process_correlations">skyline.luminosity.process_correlations module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-luminosity.related_metrics">skyline.luminosity.related_metrics module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-luminosity">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="skyline.mirage.html">skyline.mirage package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyline.panorama.html">skyline.panorama package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyline.snab.html">skyline.snab package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyline.thunder.html">skyline.thunder package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyline.tsfresh_features.html">skyline.tsfresh_features package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyline.vista.html">skyline.vista package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyline.webapp.html">skyline.webapp package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#module-algorithm_exceptions">skyline.algorithm_exceptions module</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#module-algorithm_scores_plot">skyline.algorithm_scores_plot module</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#module-create_matplotlib_graph">skyline.create_matplotlib_graph module</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#module-custom_algorithms_to_run">skyline.custom_algorithms_to_run module</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#module-database">skyline.database module</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#module-external_alert_configs">skyline.external_alert_configs module</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#module-features_profile">skyline.features_profile module</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#module-fp_match_plots">skyline.fp_match_plots module</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#module-ionosphere_functions">skyline.ionosphere_functions module</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#module-matched_or_regexed_in_list">skyline.matched_or_regexed_in_list module</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#module-motif_match_types">skyline.motif_match_types module</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#module-motif_plots">skyline.motif_plots module</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#module-plot_motif_window">skyline.plot_motif_window module</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#module-settings">skyline.settings module</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#module-skyline_functions">skyline.skyline_functions module</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#module-skyline_version">skyline.skyline_version module</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#module-slack_functions">skyline.slack_functions module</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#module-tsfresh_feature_names">skyline.tsfresh_feature_names module</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#module-validate_settings">skyline.validate_settings module</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#module-validate_settings_test">skyline.validate_settings_test module</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyline.html#module-skyline">Module contents</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Skyline</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="skyline.html">skyline package</a></li>
      <li class="breadcrumb-item active">skyline.luminosity package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/skyline.luminosity.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="skyline-luminosity-package">
<h1>skyline.luminosity package<a class="headerlink" href="#skyline-luminosity-package" title="Permalink to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading"></a></h2>
</section>
<section id="skyline-luminosity-agent-module">
<h2>skyline.luminosity.agent module<a class="headerlink" href="#skyline-luminosity-agent-module" title="Permalink to this heading"></a></h2>
</section>
<section id="module-luminosity.classify_anomalies">
<span id="skyline-luminosity-classify-anomalies-module"></span><h2>skyline.luminosity.classify_anomalies module<a class="headerlink" href="#module-luminosity.classify_anomalies" title="Permalink to this heading"></a></h2>
<p>classify_anomalies.py</p>
<dl class="py function">
<dt class="sig sig-object py" id="luminosity.classify_anomalies.classify_anomalies">
<span class="sig-name descname"><span class="pre">classify_anomalies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">classify_anomalies_set</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_timestamp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">classify_for</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/luminosity/classify_anomalies.html#classify_anomalies"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#luminosity.classify_anomalies.classify_anomalies" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-luminosity.classify_metrics">
<span id="skyline-luminosity-classify-metrics-module"></span><h2>skyline.luminosity.classify_metrics module<a class="headerlink" href="#module-luminosity.classify_metrics" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="luminosity.classify_metrics.classify_metrics">
<span class="sig-name descname"><span class="pre">classify_metrics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_timestamp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">classify_for</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/luminosity/classify_metrics.html#classify_metrics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#luminosity.classify_metrics.classify_metrics" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-luminosity.cloudburst">
<span id="skyline-luminosity-cloudburst-module"></span><h2>skyline.luminosity.cloudburst module<a class="headerlink" href="#module-luminosity.cloudburst" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="luminosity.cloudburst.Cloudburst">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Cloudburst</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent_pid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/luminosity/cloudburst.html#Cloudburst"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#luminosity.cloudburst.Cloudburst" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Thread</span></code></p>
<p>The Cloudbursts class which controls the luminosity/cloudburst thread and
spawned processes. luminosity/cloudburst analyses metrics to identify
significant changepoints using the m66 algorithm.</p>
<dl class="py method">
<dt class="sig sig-object py" id="luminosity.cloudburst.Cloudburst.check_if_parent_is_alive">
<span class="sig-name descname"><span class="pre">check_if_parent_is_alive</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/luminosity/cloudburst.html#Cloudburst.check_if_parent_is_alive"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#luminosity.cloudburst.Cloudburst.check_if_parent_is_alive" title="Permalink to this definition"></a></dt>
<dd><p>Self explanatory</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="luminosity.cloudburst.Cloudburst.find_cloudbursts">
<span class="sig-name descname"><span class="pre">find_cloudbursts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unique_metrics</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/luminosity/cloudburst.html#Cloudburst.find_cloudbursts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#luminosity.cloudburst.Cloudburst.find_cloudbursts" title="Permalink to this definition"></a></dt>
<dd><p>Create and manage the required lists and Redis sets</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="luminosity.cloudburst.Cloudburst.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/luminosity/cloudburst.html#Cloudburst.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#luminosity.cloudburst.Cloudburst.run" title="Permalink to this definition"></a></dt>
<dd><ul class="simple">
<li><p>Called when the process intializes.</p></li>
<li><p>Determine if Redis is up</p></li>
<li><p>Spawn a find_cloudbursts process to do analysis</p></li>
<li><p>Wait for the process to finish.</p></li>
<li><p>run_every 300 seconds</p></li>
</ul>
</dd></dl>

</dd></dl>

</section>
<section id="module-luminosity.cloudbursts">
<span id="skyline-luminosity-cloudbursts-module"></span><h2>skyline.luminosity.cloudbursts module<a class="headerlink" href="#module-luminosity.cloudbursts" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="luminosity.cloudbursts.Cloudbursts">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Cloudbursts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent_pid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/luminosity/cloudbursts.html#Cloudbursts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#luminosity.cloudbursts.Cloudbursts" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Thread</span></code></p>
<p>The Cloudbursts class which controls the luminosity/cloudbursts thread and
spawned processes. luminosity/cloudbursts finds metrics related to each
cloudburst that have been identified by significant changepoints using the
m66 algorithm.</p>
<dl class="py method">
<dt class="sig sig-object py" id="luminosity.cloudbursts.Cloudbursts.check_if_parent_is_alive">
<span class="sig-name descname"><span class="pre">check_if_parent_is_alive</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/luminosity/cloudbursts.html#Cloudbursts.check_if_parent_is_alive"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#luminosity.cloudbursts.Cloudbursts.check_if_parent_is_alive" title="Permalink to this definition"></a></dt>
<dd><p>Self explanatory</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="luminosity.cloudbursts.Cloudbursts.find_related">
<span class="sig-name descname"><span class="pre">find_related</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/luminosity/cloudbursts.html#Cloudbursts.find_related"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#luminosity.cloudbursts.Cloudbursts.find_related" title="Permalink to this definition"></a></dt>
<dd><p>Find metrics that are related to cloudbursts using the ppscore
correlations.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="luminosity.cloudbursts.Cloudbursts.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/luminosity/cloudbursts.html#Cloudbursts.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#luminosity.cloudbursts.Cloudbursts.run" title="Permalink to this definition"></a></dt>
<dd><ul class="simple">
<li><p>Called when the process intializes.</p></li>
<li><p>Determine if Redis is up</p></li>
<li><p>Determine new cloudbursts to find related metrics on</p></li>
<li><p>Wait for the process to finish.</p></li>
<li><p>run_every 30 seconds</p></li>
</ul>
</dd></dl>

</dd></dl>

</section>
<section id="module-luminosity.luminosity">
<span id="skyline-luminosity-luminosity-module"></span><h2>skyline.luminosity.luminosity module<a class="headerlink" href="#module-luminosity.luminosity" title="Permalink to this heading"></a></h2>
<p>luminosity.py</p>
<dl class="py class">
<dt class="sig sig-object py" id="luminosity.luminosity.PaulBourke">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PaulBourke</span></span><a class="reference internal" href="_modules/luminosity/luminosity.html#PaulBourke"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#luminosity.luminosity.PaulBourke" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p># &#64;added 20180526 - Branch #2270: luminosity
The PaulBourke class pays homage to Paul Bourke who originally described
the cross correlation method on which Linkedin’s luminol.correlate library
is based upon, he described this in August 1996 and it is upon this which
Skyline Luminosity is also based.</p>
<p>So Skyline has moved from:
Shewhart’s statistical process control circa 1924 tech
To tsfresh - circa 20161029 when it entered Skyline
Now to 1996(2015), although 1996 ideas can still be very, very useful and
work well.</p>
<p>Please do visit these following two URLs in order:
<a class="reference external" href="http://paulbourke.net/miscellaneous/correlate/thanks_mr_bourke_from_skyline_for">http://paulbourke.net/miscellaneous/correlate/thanks_mr_bourke_from_skyline_for</a>  # this will 404 but hopefully he has something watching his 404 rate :)
<a class="reference external" href="http://paulbourke.net/miscellaneous/correlate/">http://paulbourke.net/miscellaneous/correlate/</a>  # this will 200</p>
<p>This is all part of the adventures in Skyline.  If you enjoy this sort of
thing, then I posit to you that Sir Walter Munk is one of the least known
remarkable scientist of tthe current and previous millienia.
Born: October 19, 1917 (age 100 years)
His accomplishments abound, he is like Turing, Marconi, Berners-Lee and
Einstein rolled into Oceangraphy, but few have ever heard of him.</p>
<p>If we are giving kudos to Shewhart, tsfresh and Paul Bourke, we can slip
some Walther Munk in here too, although currently he nor his work has
anything to do with Skyline, however there are some ideas, not necessarily
desrcibed in the roadmap, that revolve a byproduct of monitoring surf
conditions via a webcams, which could be used for monitoring tide levels
too, which would be right up Dr Munk’s alley.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="luminosity.luminosity.Luminosity">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Luminosity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent_pid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/luminosity/luminosity.html#Luminosity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#luminosity.luminosity.Luminosity" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Thread</span></code></p>
<p>The Luminosity class which controls the luminosity thread and spawned
processes.</p>
<dl class="py method">
<dt class="sig sig-object py" id="luminosity.luminosity.Luminosity.check_if_parent_is_alive">
<span class="sig-name descname"><span class="pre">check_if_parent_is_alive</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/luminosity/luminosity.html#Luminosity.check_if_parent_is_alive"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#luminosity.luminosity.Luminosity.check_if_parent_is_alive" title="Permalink to this definition"></a></dt>
<dd><p>Self explanatory</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="luminosity.luminosity.Luminosity.classify_anomalies">
<span class="sig-name descname"><span class="pre">classify_anomalies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">classify_anomalies_set</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_timestamp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_run_seconds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/luminosity/luminosity.html#Luminosity.classify_anomalies"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#luminosity.luminosity.Luminosity.classify_anomalies" title="Permalink to this definition"></a></dt>
<dd><p>Classify anomalies</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<em>object</em>) – python process id</p></li>
<li><p><strong>classify_anomalies_set</strong> (<em>set</em>) – set from luminosity.classify_anomalies</p></li>
<li><p><strong>start_timestamp</strong> (<em>int</em>) – the process star timestamp</p></li>
<li><p><strong>max_run_seconds</strong> (<em>int</em>) – the max number of seconds to run for</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>boolean</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="luminosity.luminosity.Luminosity.classify_metrics">
<span class="sig-name descname"><span class="pre">classify_metrics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_timestamp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_run_seconds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/luminosity/luminosity.html#Luminosity.classify_metrics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#luminosity.luminosity.Luminosity.classify_metrics" title="Permalink to this definition"></a></dt>
<dd><p>Classify metrics</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<em>object</em>) – python process id</p></li>
<li><p><strong>start_timestamp</strong> (<em>int</em>) – the process star timestamp</p></li>
<li><p><strong>max_run_seconds</strong> (<em>int</em>) – the max number of seconds to run for</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>boolean</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="luminosity.luminosity.Luminosity.spin_process">
<span class="sig-name descname"><span class="pre">spin_process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anomaly_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/luminosity/luminosity.html#Luminosity.spin_process"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#luminosity.luminosity.Luminosity.spin_process" title="Permalink to this definition"></a></dt>
<dd><p>Assign an anomalous metric and determine correlated metrics</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<em>object</em>) – python process id</p></li>
<li><p><strong>anomaly_id</strong> (<em>int</em>) – the anomaly_id</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>boolean</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="luminosity.luminosity.Luminosity.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/luminosity/luminosity.html#Luminosity.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#luminosity.luminosity.Luminosity.run" title="Permalink to this definition"></a></dt>
<dd><p>Called when the process intializes.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-luminosity.process_correlations">
<span id="skyline-luminosity-process-correlations-module"></span><h2>skyline.luminosity.process_correlations module<a class="headerlink" href="#module-luminosity.process_correlations" title="Permalink to this heading"></a></h2>
<p>process_correlations.py</p>
<dl class="py function">
<dt class="sig sig-object py" id="luminosity.process_correlations.determine_resolution">
<span class="sig-name descname"><span class="pre">determine_resolution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeseries</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/luminosity/process_correlations.html#determine_resolution"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#luminosity.process_correlations.determine_resolution" title="Permalink to this definition"></a></dt>
<dd><p>Determine the resolution of the timeseries data</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="luminosity.process_correlations.get_anomaly">
<span class="sig-name descname"><span class="pre">get_anomaly</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request_type</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/luminosity/process_correlations.html#get_anomaly"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#luminosity.process_correlations.get_anomaly" title="Permalink to this definition"></a></dt>
<dd><p>Query the database for the anomaly details</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="luminosity.process_correlations.get_anomalous_ts">
<span class="sig-name descname"><span class="pre">get_anomalous_ts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anomaly_timestamp</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/luminosity/process_correlations.html#get_anomalous_ts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#luminosity.process_correlations.get_anomalous_ts" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="luminosity.process_correlations.get_anoms">
<span class="sig-name descname"><span class="pre">get_anoms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">anomalous_ts</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/luminosity/process_correlations.html#get_anoms"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#luminosity.process_correlations.get_anoms" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="luminosity.process_correlations.get_assigned_metrics">
<span class="sig-name descname"><span class="pre">get_assigned_metrics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anomaly_timestamp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/luminosity/process_correlations.html#get_assigned_metrics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#luminosity.process_correlations.get_assigned_metrics" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="luminosity.process_correlations.get_remote_assigned">
<span class="sig-name descname"><span class="pre">get_remote_assigned</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">anomaly_timestamp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">namespace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/luminosity/process_correlations.html#get_remote_assigned"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#luminosity.process_correlations.get_remote_assigned" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="luminosity.process_correlations.get_correlations">
<span class="sig-name descname"><span class="pre">get_correlations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anomaly_timestamp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anomalous_ts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">assigned_metrics</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raw_assigned</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remote_assigned</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anomalies</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">processing_time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/luminosity/process_correlations.html#get_correlations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#luminosity.process_correlations.get_correlations" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="luminosity.process_correlations.process_correlations">
<span class="sig-name descname"><span class="pre">process_correlations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anomaly_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/luminosity/process_correlations.html#process_correlations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#luminosity.process_correlations.process_correlations" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-luminosity.related_metrics">
<span id="skyline-luminosity-related-metrics-module"></span><h2>skyline.luminosity.related_metrics module<a class="headerlink" href="#module-luminosity.related_metrics" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="luminosity.related_metrics.RelatedMetrics">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RelatedMetrics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent_pid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/luminosity/related_metrics.html#RelatedMetrics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#luminosity.related_metrics.RelatedMetrics" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Thread</span></code></p>
<p>The RelatedMetrics class controls the luminosity/related_metrics thread and
spawned processes. luminosity/related_metrics analyses the results of
luminosity cross_correlations and related_metricss to create and maintain
metric groups.</p>
<dl class="py method">
<dt class="sig sig-object py" id="luminosity.related_metrics.RelatedMetrics.check_if_parent_is_alive">
<span class="sig-name descname"><span class="pre">check_if_parent_is_alive</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/luminosity/related_metrics.html#RelatedMetrics.check_if_parent_is_alive"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#luminosity.related_metrics.RelatedMetrics.check_if_parent_is_alive" title="Permalink to this definition"></a></dt>
<dd><p>Self explanatory</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="luminosity.related_metrics.RelatedMetrics.find_related">
<span class="sig-name descname"><span class="pre">find_related</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/luminosity/related_metrics.html#RelatedMetrics.find_related"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#luminosity.related_metrics.RelatedMetrics.find_related" title="Permalink to this definition"></a></dt>
<dd><ul class="simple">
<li><p>Determine when a metric group was last updated.</p></li>
<li><p>Determine if any new anomalies have occurred on the metric.</p></li>
<li><p>If there are any new anomalies on the metric, determine if new
cross_correlations or related_metrics have occured on a metric</p></li>
<li><p>If there are new cross_correlations or related_metricss calculate the
metric group with the new data</p></li>
<li><p>Determine if the new data modifies the metric group, if so update.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="luminosity.related_metrics.RelatedMetrics.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/luminosity/related_metrics.html#RelatedMetrics.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#luminosity.related_metrics.RelatedMetrics.run" title="Permalink to this definition"></a></dt>
<dd><ul class="simple">
<li><p>Called when the process intializes.</p></li>
<li><p>Determine if Redis is up</p></li>
<li><p>Spawn a process_metric process to do analysis</p></li>
<li><p>Wait for the process to finish.</p></li>
<li><p>run_every 300 seconds</p></li>
</ul>
</dd></dl>

</dd></dl>

</section>
<section id="module-luminosity">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-luminosity" title="Permalink to this heading"></a></h2>
<p>Luminosity</p>
<ul class="simple">
<li><p>Determine correlations</p></li>
<li><dl class="simple">
<dt>Insert in correlations table (slow stream of inserts, not gluts, queue them)</dt><dd><ul>
<li><p>anomaly_id, mertic_id, coefficient, shift, shifted_coefficient</p></li>
<li><p>a table per metric a la z_ts or;</p></li>
<li><p>a table per month and a daily aggregated table?</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>In Ionosphere:</dt><dd><ul>
<li><p>Display Luminosity sorted_correlated_metrics in a block with a link to the
anomaly page</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>In Panorama:</dt><dd><ul>
<li><p>Display a Luminosity link the anomaly page</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="skyline.ionosphere.html" class="btn btn-neutral float-left" title="skyline.ionosphere package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="skyline.mirage.html" class="btn btn-neutral float-right" title="skyline.mirage package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2013-2014, Etsy Inc; 2015, Abe Stanway; 2015-2023, Gary Wilson.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>